substitutions:
  ld2410_id: ld2410
  ld2410_delayed_on: 200ms
  ld2410_delayed_off: 2s

esphome:
  project:
    name: itsteddyyo.mmwave-sensor
    version: 1.0.0
  min_version: 2024.9.0

uart:
  - id: "bus_${ld2410_id}"
    tx_pin: ${tx_pin}
    rx_pin: ${rx_pin}
    baud_rate: 256000
    parity: NONE
    stop_bits: 1
 
ld2410:
  uart_id: "bus_${ld2410_id}"

binary_sensor:
  - platform: ld2410
    has_moving_target:
      name: Motion
  - platform: gpio
    pin: ${gpio_pin}
    name: Occupancy
    device_class: occupancy
    publish_initial_state: true
    filters:
      - delayed_on: ${ld2410_delayed_on}
      - delayed_off: ${ld2410_delayed_off}

switch:
  - platform: ld2410
    engineering_mode:
      name: Engineering Mode
    bluetooth:
      name: Bluetooth
    disabled_by_default: true

dashboard_import:
  package_import_url: github://itsteddyyo/firmware/sensors/mmwave-sensor.yaml@main
